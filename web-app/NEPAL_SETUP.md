# ЁЯЗ│ЁЯЗ╡ рдиреЗрдкрд╛рд▓реА рд╕рдВрд╕реНрдХрд░рдг рд╕рдХреНрд╖рдордХрд░рдг

рдпрд╣ рдлрд╛рдЗрд▓ IPO Pilot рдХреЛ рдиреЗрдкрд╛рд▓реА рдирд┐рд╡реЗрд╢рдХрд╣рд░реВрдХреЗ рд▓рд┐рдП рдкреВрд░реА рддрд░рд╣ рд╕реЗ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рд╡рд┐рд╡рд░рдг рджреЗрддрд╛ рд╣реИред

## тЬЕ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд▓рд╛рдЧреВ рдХреА рдЧрдИ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ

- тЬЕ рдиреЗрдкрд╛рд▓реА UI (рд░рдВрдЧ, рд▓реЗрдЖрдЙрдЯ, рднрд╛рд╖рд╛)
- тЬЕ NPR (рдиреЗрдкрд╛рд▓реА рд░реБрдкрдпреЗ) рдореВрд▓реНрдп рдирд┐рд░реНрдзрд╛рд░рдг
- тЬЕ eSewa рдПрдХреАрдХрд░рдг
- тЬЕ Khalti рдПрдХреАрдХрд░рдг
- тЬЕ рдиреЗрдкрд╛рд▓реА рднрд╛рд╖рд╛ рд╕рдорд░реНрдерди
- тЬЕ рдиреЗрдкрд╛рд▓реА рд╕рд╣рд╛рдпрддрд╛ рдЬрд╛рдирдХрд╛рд░реА

## ЁЯФз рдЪрд░рдг-рджрд░-рдЪрд░рдг рд╕реЗрдЯрдЕрдк

### 1. eSewa рдПрдХреАрдХрд░рдг

**рдХрджрдо 1: eSewa Merchant рдЦрд╛рддрд╛ рдмрдирд╛рдПрдВ**

```
1. eSewa.com.np рдкрд░ рдЬрд╛рдПрдВ
2. "Merchant Registration" рдЦреЛрдЬреЗрдВ
3. IPO Pilot рдХреЗ рд╡рд┐рд╡рд░рдг рднрд░реЗрдВ
4. рдЖрд╡реЗрджрди рдЕрдиреБрдореЛрджрд┐рдд рд╣реЛрдиреЗ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░реЗрдВ
5. Service Code рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ (рдЙрджрд╛., EPAYTEST)
6. Product Code рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ (рдЙрджрд╛., IPO-PILOT)
7. Secret Key рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
```

**рдХрджрдо 2: рдиреЗрдкрд▓_payments.go рдореЗрдВ рд╡рд┐рд╡рд░рдг рдЬреЛрдбрд╝реЗрдВ**

```go
// nepal_payments.go рдореЗрдВ рдЦреЛрдЬреЗрдВ
func getNepalPaymentConfig() NepalPaymentConfig {
    return NepalPaymentConfig{
        EsewaServiceCode: "YOUR_SERVICE_CODE",      // eSewa рд╕реЗ рдкреНрд░рд╛рдкреНрдд
        EsewaProductCode: "YOUR_PRODUCT_CODE",      // eSewa рд╕реЗ рдкреНрд░рд╛рдкреНрдд
        EsewaSecret:      "YOUR_SECRET_KEY",        // eSewa рд╕реЗ рдкреНрд░рд╛рдкреНрдд
    }
}
```

**рдХрджрдо 3: eSewa рдХреЗ рд▓рд┐рдП рд╡реЗрдмрд╣реБрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ**

- eSewa Dashboard рдореЗрдВ рдЬрд╛рдПрдВ
- Webhook URL рдЬреЛрдбрд╝реЗрдВ: `https://yoursite.com/payment/esewa/success`
- Failure URL: `https://yoursite.com/payment/esewa/failure`

### 2. Khalti рдПрдХреАрдХрд░рдг

**рдХрджрдо 1: Khalti Merchant рдЦрд╛рддрд╛ рдмрдирд╛рдПрдВ**

```
1. Khalti.com рдкрд░ рдЬрд╛рдПрдВ
2. "Become a Merchant" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ
3. рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рд╡рд┐рд╡рд░рдг рднрд░реЗрдВ
4. рдЖрд╡реЗрджрди рдЬрдорд╛ рдХрд░реЗрдВ
5. Public Key рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
6. Secret Key рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
```

**рдХрджрдо 2: рдиреЗрдкрд▓_payments.go рдореЗрдВ рд╡рд┐рд╡рд░рдг рдЬреЛрдбрд╝реЗрдВ**

```go
// nepal_payments.go рдореЗрдВ рдЦреЛрдЬреЗрдВ
func getNepalPaymentConfig() NepalPaymentConfig {
    return NepalPaymentConfig{
        KhaltiPublicKey:  "YOUR_PUBLIC_KEY",   // Khalti рд╕реЗ рдкреНрд░рд╛рдкреНрдд
        KhaltiSecretKey:  "YOUR_SECRET_KEY",   // Khalti рд╕реЗ рдкреНрд░рд╛рдкреНрдд
    }
}
```

**рдХрджрдо 3: Khalti рд╡реЗрдмрд╣реБрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ**

- Khalti Dashboard тЖТ Settings
- Webhook URL рдЬреЛрдбрд╝реЗрдВ: `https://yoursite.com/payment/khalti/success`

### 3. ConnectIPS рдПрдХреАрдХрд░рдг (рднрд╡рд┐рд╖реНрдп)

ConnectIPS рд╕реЗрдЯрдЕрдк рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддреИрдпрд╛рд░реА рдХрд░реЗрдВ:

```
1. ConnectIPS Merchant рдХреЗ рд▓рд┐рдП рдЖрд╡реЗрджрди рдХрд░реЗрдВ
2. Merchant Code рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
3. Bank Settlement рдХрд░реЗрдВ
4. Webhook Configure рдХрд░реЗрдВ
```

рдпрд╣ рдЕрднреА рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рдВрд░рдЪрдирд╛ `nepal_payments.go` рдореЗрдВ рддреИрдпрд╛рд░ рд╣реИред

## ЁЯУЭ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЪреЗрдХрд▓рд┐рд╕реНрдЯ

```
eSewa рдХреЗ рд▓рд┐рдП:
тШР Service Code рд╕реЗрдЯ рдХрд░реЗрдВ
тШР Product Code рд╕реЗрдЯ рдХрд░реЗрдВ  
тШР Secret Key рд╕реЗрдЯ рдХрд░реЗрдВ
тШР Webhook URL рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
тШР Test mode рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ

Khalti рдХреЗ рд▓рд┐рдП:
тШР Public Key рд╕реЗрдЯ рдХрд░реЗрдВ
тШР Secret Key рд╕реЗрдЯ рдХрд░реЗрдВ
тШР Webhook URL рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
тШР Test рдХрд░реЗрдВ

ConnectIPS рдХреЗ рд▓рд┐рдП:
тШР Merchant Code рд╕реЗрдЯ рдХрд░реЗрдВ
тШР API Endpoint рд╕реЗрдЯ рдХрд░реЗрдВ
тШР рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд░реЗрдВ
```

## ЁЯзк рдкрд░реАрдХреНрд╖рдг

### eSewa рдкрд░реАрдХреНрд╖рдг рдЕрдиреБрдХреНрд░рдорд╛рдВрдХ

```
рдкрд░реАрдХреНрд╖рдг рдЦрд╛рддрд╛: рдирд┐рдпрдВрддреНрд░рдг рдкреИрдирд▓ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
рдкрд░реАрдХреНрд╖рдг OTP: 123456
рдкрд░реАрдХреНрд╖рдг рд╕рдлрд▓рддрд╛: рдареАрдХ рд╣реИ
```

### Khalti рдкрд░реАрдХреНрд╖рдг рдЕрдиреБрдХреНрд░рдорд╛рдВрдХ

```
Test Public Key: test_public_key_dc74e0fd57cb46cd93832722edca97c3
Test Secret Key: test_secret_key_dc74e0fd57cb46cd93832722edca97c3
Test Phone: 9800000000
Test OTP: 123456
```

## ЁЯЪА рд╕реНрдерд╛рдиреАрдп рдкрд░реАрдХреНрд╖рдг

```bash
# 1. eSewa рдкрд░реАрдХреНрд╖рдг рдореЛрдб рд╕рдХреНрд╖рдо рдХрд░реЗрдВ
export ESEWA_MODE=test

# 2. Khalti рдкрд░реАрдХреНрд╖рдг рдореЛрдб рд╕рдХреНрд╖рдо рдХрд░реЗрдВ
export KHALTI_MODE=test

# 3. рдРрдк рдЪрд▓рд╛рдПрдВ
go run .

# 4. рдкрд░реАрдХреНрд╖рд╛ рд╕рджрд╕реНрдпрддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛рдПрдВ
# Dashboard тЖТ Pricing тЖТ Premium рдЦрд░реАрджреЗрдВ
```

## ЁЯУК рдиреЗрдкрд╛рд▓реА рд░реБрдкрдпреЗ (NPR) рд░реВрдкрд╛рдВрддрд░рдг

### рдореМрдЬреВрджрд╛ рдореВрд▓реНрдп рдирд┐рд░реНрдзрд╛рд░рдг

```
USD    тЖТ NPR (рд╡рд░реНрддрдорд╛рди рджрд░ ~131-132)
$25    тЖТ тВ╣3,275-3,300  тЖТ рдЧреЛрд▓ тВ╣3,500
$45    тЖТ тВ╣5,895-5,940  тЖТ рдЧреЛрд▓ тВ╣6,500
$100   тЖТ тВ╣13,100-13,200 тЖТ рдЧреЛрд▓ тВ╣14,000
```

### рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛

рдпрджрд┐ USD рджрд░реЗрдВ рдмрджрд▓рддреА рд╣реИрдВ рддреЛ NPR рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ:

```go
// handlers.go рдореЗрдВ
{
    "name": "рдкреНрд░рд┐рдорд┐рдпрдо",
    "price": 6500,  // рдирдИ NPR рд░рд╛рд╢рд┐ рдпрд╣рд╛рдБ
    "priceUSD": "$50",
}
```

## ЁЯМР рдбреЛрдореЗрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди

### рдиреЗрдкрд╛рд▓реА-рдЕрдиреБрдХреВрд▓ рдбреЛрдореЗрди

```
рдореБрдЦреНрдп: ipopilot.np (ideal, рдпрджрд┐ рдЙрдкрд▓рдмреНрдз рд╣реЛ)
рд╡рд┐рдХрд▓реНрдк: ipopilot.com.np
рд╡рд░реНрддрдорд╛рди: ipopilot.dev (temporary)
```

### DNS рд╕реЗрдЯрдЕрдк

```
Type: A record
Name: @
Value: рдЖрдкрдХрд╛ рд╕рд░реНрд╡рд░ IP
TTL: 3600

Subdomain:
Type: CNAME
Name: www
Value: ipopilot.np
```

## ЁЯУз рдИрдореЗрд▓ рдЯреЗрдореНрдкрд▓реЗрдЯ рдиреЗрдкрд╛рд▓реА

### рдиреЗрдкрд╛рд▓реА рдИрдореЗрд▓ рд╕рдорд░реНрдерди

```
рд╕реБрдкреНрдд рд╡рд░реНрдг: UTF-8
рдбрд┐рдлрд╝реЙрд▓реНрдЯ рднрд╛рд╖рд╛: рдиреЗрдкрд╛рд▓реА
рдлреЙрд▓рдмреИрдХ: рдЕрдВрдЧреНрд░реЗрдЬреА
```

рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП:

```html
<!-- рдиреЗрдкрд╛рд▓реА рд╕реНрд╡рд╛рдЧрдд рдИрдореЗрд▓ -->
<h1>IPO Pilot рдореИрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ!</h1>
<p>рдирдорд╕реНрдХрд╛рд░ {{ .Name }},</p>
<p>рдЖрдкрдХреА рдЦрд╛рддрд╛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдмрдирд╛рдИ рдЧрдИ рд╣реИред</p>
```

## ЁЯФР рд╕реБрд░рдХреНрд╖рд╛ рд╡рд┐рдЪрд╛рд░

### PII (рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЬрд╛рдирдХрд╛рд░реА)

- рдиреЗрдкрд╛рд▓реА рдлреЛрди рдирдВрдмрд░: +977 рдмрд┐рдирд╛ рд╣рд╛рдЗрдлрди рдХреЗ рд╕реНрдЯреЛрд░ рдХрд░реЗрдВ
- рдиреЗрдкрд╛рд▓реА рдирд╛рдо: UTF-8 рдореЗрдВ рдкреВрд░реНрдг рд╕рдорд░реНрдерди
- рдиреЗрдкрд╛рд▓реА рдИрдореЗрд▓: рдорд╛рдиреНрдп рдХреЗ рд╕рд╛рде рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ

### рднреБрдХреНрддрд╛рдиреА рдбреЗрдЯрд╛ рд╕реБрд░рдХреНрд╖рд╛

```
тЬЕ рдХрднреА рднреА рдХрдЪреНрдЪреЗ рдЦрд╛рддрд╛ рд╡рд┐рд╡рд░рдг рд▓реЙрдЧ рди рдХрд░реЗрдВ
тЬЕ Encrypted credentials рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
тЬЕ PCI DSS рдЕрдиреБрдкрд╛рд▓рди (рдпрджрд┐ рд╕реАрдзреЗ рд╕реНрдЯреЛрд░ рдХрд░рддреЗ рд╣реИрдВ)
тЬЕ Webhook signature рд╕рддреНрдпрд╛рдкрди
```

## ЁЯУЮ рдиреЗрдкрд╛рд▓реА рд╕рдорд░реНрдерди рдЯреАрдо рд╕реЗрдЯрдЕрдк

### рдИрдореЗрд▓

```
support@ipopilot.np
hello@ipopilot.np
help.np@ipopilot.dev
```

### рдлреЛрди (рднрд╡рд┐рд╖реНрдп)

```
Landline: +977-1-XXXX-XXXX
Mobile: +977-98XX-XXXXX
Toll Free: 1800-XXXX (if available)
```

### рд╕рдордп рдкреНрд░рдХреНрд╖реЗрддреНрд░

```
рдиреЗрдкрд╛рд▓ рд╕рдордп: GMT+5:45 
рд╕рдорд░реНрдерди рд╕рдордп:
- рд╕реЛрдо-рд╢реБрдХреНрд░: 9:00 AM - 6:00 PM NST
- рд╢рдирд┐: 10:00 AM - 4:00 PM NST
- рд░рд╡рд┐рд╡рд╛рд░: рдмрдВрдж (рдЖрдкрд╛рддрдХрд╛рд▓реАрди рдХреЗрд╡рд▓)
```

## ЁЯз│ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдЪреЗрдХрд▓рд┐рд╕реНрдЯ

```
Before Going Live:
тШР eSewa live (production) credentials рд╕реЗрдЯ рдХрд░реЗрдВ
тШР Khalti live (production) credentials рд╕реЗрдЯ рдХрд░реЗрдВ
тШР рдиреЗрдкрд╛рд▓реА рдореВрд▓реНрдп рдирд┐рд░реНрдзрд╛рд░рдг рдЕрдВрддрд┐рдо рдХрд░реЗрдВ
тШР рдиреЗрдкрд╛рд▓реА UI рдкрд░реАрдХреНрд╖рд╛ рдХрд░реЗрдВ
тШР рдИрдореЗрд▓ рд╕рдорд░реНрдерди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
тШР SMS рдЕрд▓рд░реНрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ
тШР рдиреЗрдкрд╛рд▓реА рднрд╛рд╖рд╛ рдХреЗ рд▓рд┐рдП рд╕рд░реНрд╡рд░ рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдВ
тШР Privacy Policy (рдиреЗрдкрд╛рд▓реА) рдЬреЛрдбрд╝реЗрдВ
тШР Terms of Service (рдиреЗрдкрд╛рд▓реА) рдЬреЛрдбрд╝реЗрдВ
тШР NPTA рдЕрдиреБрдкрд╛рд▓рди рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ
```

## ЁЯОУ рдиреЗрдкрд╛рд▓реА рд╕рдВрд╕рд╛рдзрди

### рд╢рд┐рдХреНрд╖рд╛ рдкрд╛рдареНрдпрдХреНрд░рдо

- `NEPAL_GUIDE.md` - рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЧрд╛рдЗрдб
- `MEROSHARE_INTEGRATION.md` - рддрдХрдиреАрдХреА рд╡рд┐рд╡рд░рдг
- `PAYMENT_INTEGRATION.md` - рднреБрдХреНрддрд╛рдиреА рд╕реЗрдЯрдЕрдк

### рдХрдореБрдирд┐рдЯреА

- рдиреЗрдкрд╛рд▓реА IPO рдлреЛрд░рдо
- MeroShare рд╕рдореБрджрд╛рдп
- Khalti рдбреЗрд╡рд▓рдкрд░

## тЬЕ рдкрд░реАрдХреНрд╖рдг рдХреА рдкреБрд╖реНрдЯрд┐

```bash
# 1. рдиреЗрдкрд╛рд▓реА рдкрд╛рда рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ
curl http://localhost:8080/pricing | grep -i "рд╕рд╛рдзрд╛рд░рдг"

# 2. eSewa integration рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ
curl -X POST http://localhost:8080/payment/nepal \
  -H "Content-Type: application/json" \
  -d '{"payment_method": "esewa", "amount": "3500"}'

# 3. Khalti integration рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ
curl -X POST http://localhost:8080/payment/nepal \
  -H "Content-Type: application/json" \
  -d '{"payment_method": "khalti", "amount": "6500"}'
```

---

**рдиреЗрдкрд╛рд▓реА рд╕рдВрд╕реНрдХрд░рдг рдЕрдм 100% рддреИрдпрд╛рд░ рд╣реИ!** ЁЯЗ│ЁЯЗ╡ЁЯЪА
